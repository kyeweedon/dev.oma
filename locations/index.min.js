/*global per:false, states:false, locations:false, google:false */function initialiseMap(e){var t={center:new google.maps.LatLng(-34.397,150.644),zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(document.getElementById("map"),t);mapOpen=!0;per(locations,function(e,t){t.loc=new google.maps.LatLng(t.lat,t.lng);t.marker=new google.maps.Marker({map:map,position:t.loc,title:t.name});var n="<div><h3>"+t.name+"</h3>"+"<p>"+t.address+"</p>"+"<p>"+t.suburb+" "+t.postcode+" "+t.state+"</p>"+"</div>";t.popup=new google.maps.InfoWindow({content:n});google.maps.event.addListener(t.marker,"click",function(){per(locations,function(e,t){t.popup.close()});t.popup.open(map,t.marker)})});per(states,function(e,t){t.bounds=new google.maps.LatLngBounds;per(locations,function(n,r){r.state===e&&t.bounds.extend(r.loc)})});e()}function drawMapState(e){mapOpen?map.fitBounds(e.bounds):initialiseMap(function(){map.fitBounds(e.bounds)})}$(document).ready(function(){});var map,currentState="000",currentLocation="000",mapOpen=!1;$(".stateNavItem").on({click:function(){$(this).siblings().removeClass("stateNavItemOpen");$("#locationInitial").fadeOut();currentState=states[$(this).attr("state")];$(this).addClass("stateNavItemOpen");$("#locationNav").animate({width:"0"},100,function(){$("#locationNav").html("");per(locations,function(e,t){t.popup.close();t.state===currentState.short&&$("#locationNav").append('<li class="locationNavItem" id="location'+t.id+'" loc="'+t.id+'">'+t.suburb+"</li>")});$("#locationNav").animate({width:"200px"},100)});drawMapState(currentState);$("#repImage").attr("src","../src/images/reps/"+currentState.repImage);$("#repName").html(currentState.repName);$("#repMobile").html(currentState.repMobile);$("#repEmail").html(currentState.repEmail).attr("href","mailto:"+currentState.repEmail);$("#locationInfo").fadeIn()}});$("#locationNav").on({click:function(){var e=$(this);$(this).siblings().removeClass("locationNavItemOpen");per(locations,function(t,n){n.popup.close();if(parseInt(e.attr("loc"),10)===n.id){currentLocation=n;n.popup.open(map,n.marker);map.setZoom(12)}});$(this).addClass("locationNavItemOpen")}},".locationNavItem");